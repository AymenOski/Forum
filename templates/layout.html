<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/css/layout.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">
    <title>Forum</title>
</head>

<body>
    <script src="/static/js/themes.js"></script>

    <!-- NavBar section -->

    <header class="navbar">
        <div id="in-logo">
            <div class="logo-box">Forum</div>
            <a href="/"></a>
        </div>
        <nav class="nav-links">
            <div class="auth-buttons">
                <a href="/login">Login</a>
                <a href="/register">Register</a>
            </div>
            <div class="themes">
                <button onclick="setTheme('pink')">üå∏</button>
                <button onclick="setTheme('forest')">üå≤</button>
                <button onclick="setTheme('aqua')">üåä</button>
                <button onclick="setTheme('dark')">üåô</button>
            </div>
        </nav>
    </header>

    <main>

        <!-- Feltering and Posting section -->

        <div class="post-toggle-wrapper">


            <input type="radio" name="post-toggle" id="show-filter" checked hidden>
            <input type="radio" name="post-toggle" id="show-create" hidden>


            <div class="toggle-buttons">
                <label for="show-filter">üîç Filter Posts</label>
                <label for="show-create">‚ûï Make a Post</label>
            </div>


            <div class="post-sections">
                <div class="post-section filter-section">
                    <form method="GET" action="/filter">
                        <div class="filter-options">
                            <h4>Filter by Categories:</h4>
                            <div class="category-tags-filter">
                                <label class="category-tag">
                                    <input type="checkbox" name="category-filter[]" value="tech">
                                    <span>Technology</span>
                                </label>
                                <label class="category-tag">
                                    <input type="checkbox" name="category-filter[]" value="sports">
                                    <span>Gaming</span>
                                </label>
                                <label class="category-tag">
                                    <input type="checkbox" name="category-filter[]" value="general">
                                    <span>General Discussion</span>
                                </label>
                                <label class="category-tag">
                                    <input type="checkbox" name="category-filter[]" value="art">
                                    <span>Art & Creativity</span>
                                </label>
                                <label class="category-tag">
                                    <input type="checkbox" name="category-filter[]" value="health">
                                    <span>Lifestyle & Health</span>
                                </label>
                            </div>
                        </div>

                        <div class="filter-checkboxes">
                            <label class="filter-option">
                                <input type="checkbox" name="myPosts">
                                <span>My Posts</span>
                            </label>
                            <label class="filter-option">
                                <input type="checkbox" name="likedPosts">
                                <span>Liked Posts</span>
                            </label>
                        </div>

                        <button type="submit">Apply Filters</button>
                    </form>
                </div>

                <div class="post-section create-section">
                    <form method="POST" action="/create-post">

                        <input type="text" placeholder="Title..." required maxlength="50">
                        <textarea placeholder="Write your post..." required maxlength="500"></textarea>

                        <h4 style="color: #f0f0f0;">Select Categories:</h4>
                        <div class="category-options">
                            <label class="category-tag">
                                <input type="checkbox" name="categories[]" value="tech">
                                <span>Technology</span>
                            </label>
                            <label class="category-tag">
                                <input type="checkbox" name="categories[]" value="gaming">
                                <span>Gaming</span>
                            </label>
                            <label class="category-tag">
                                <input type="checkbox" name="categories[]" value="art">
                                <span>Art & Design</span>
                            </label>
                            <label class="category-tag">
                                <input type="checkbox" name="categories[]" value="science">
                                <span>Science</span>
                            </label>
                            <label class="category-tag">
                                <input type="checkbox" name="categories[]" value="general">
                                <span>General Discussion</span>
                            </label>
                        </div>
                        <button type="submit">Post</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Published Posts Section -->

        <section class="posts-container">
            <h2 class="posts-title">Published Posts</h2>

            {{if .}}
            {{range .}}
            <article class="forum-post">
                <div class="post-author">
                    <span class="post-author">Posted by {{.Authorname}}</span>
                </div>
                <div class="post-content">{{.Content}}</div>

                <div class="post-footer">
                    <div class="post-categories">
                        <span class="category-badge">General</span>
                    </div>
                    <div class="post-stats">
                        <span class="likes">üëç {{.LikesCount}}</span>
                        <span class="dislikes">üëé {{.DislikesCount}}</span>
                        <span class="comments">üí¨ 3 comments</span>
                    </div>
                </div>
            </article>
            {{end}}
            {{else}}
            <p>No posts available.</p>
            {{end}}
        </section>
    </main>
</body>

</html>